generator client {
  provider  = "prisma-client-py"
  interface = "sync"
}

datasource db {
  provider = "postgresql"
  url      = env("SUPABASE_POSTGRESS_URI")
}

model products {
  id           String                   @id(map: "products_pkey1")
  pID          String?
  pStore       String?
  pName        String?
  pLink        String?
  pImg         String?
  pCategory    String?
  pReviews     Int?                     @default(0)
  pStars       Int?                     @default(0)
  pGeniusTag   Boolean?
  pUsedTag     Boolean?
  priceCurrent Float?                   @db.Real
  priceRetail  Float?                   @db.Real
  priceSlashed Float?                   @db.Real
  priceUsed    Float?                   @db.Real
  timeseries   Json?
  crawledAt    DateTime?                @default(now()) @db.Timestamp(6)
  fts          Unsupported("tsvector")?

  @@index([fts], map: "products_fts")
}

model products_duplicate {
  id           String                   @id
  pID          String?
  pStore       String?
  pName        String?
  pLink        String?
  pImg         String?
  pCategory    String?
  pReviews     Int?                     @default(0)
  pStars       Int?                     @default(0)
  pGeniusTag   Boolean?
  pUsedTag     Boolean?
  priceCurrent Float?                   @db.Real
  priceRetail  Float?                   @db.Real
  priceSlashed Float?                   @db.Real
  priceUsed    Float?                   @db.Real
  timeseries   Json?
  crawledAt    DateTime                 @default(now()) @db.Timestamp(6)
  fts          Unsupported("tsvector")?

  @@index([fts])
}
